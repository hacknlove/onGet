<!DOCTYPE html>
<html lang="en">
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>
      Tutorial: 02-basic-crud - Documentation
  </title>

  <link href="https://www.braintreepayments.com/images/favicon-ccda0b14.png" rel="icon" type="image/png">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.7.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>

  <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
  <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
  
  <link type="text/css" rel="stylesheet" href="styles/collapse.css">
  

  

  <!-- start Mixpanel -->
  <script type="text/javascript">(function(e,a){if(!a.__SV){var b=window;try{var c,l,i,j=b.location,g=j.hash;c=function(a,b){return(l=a.match(RegExp(b+"=([^&]*)")))?l[1]:null};g&&c(g,"state")&&(i=JSON.parse(decodeURIComponent(c(g,"state"))),"mpeditor"===i.action&&(b.sessionStorage.setItem("_mpcehash",g),history.replaceState(i.desiredHash||"",e.title,j.pathname+j.search)))}catch(m){}var k,h;window.mixpanel=a;a._i=[];a.init=function(b,c,f){function e(b,a){var c=a.split(".");2==c.length&&(b=b[c[0]],a=c[1]);b[a]=function(){b.push([a].concat(Array.prototype.slice.call(arguments,
  0)))}}var d=a;"undefined"!==typeof f?d=a[f]=[]:f="mixpanel";d.people=d.people||[];d.toString=function(b){var a="mixpanel";"mixpanel"!==f&&(a+="."+f);b||(a+=" (stub)");return a};d.people.toString=function(){return d.toString(1)+".people (stub)"};k="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset people.set people.set_once people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");
  for(h=0;h<k.length;h++)e(d,k[h]);a._i.push([b,c,f])};a.__SV=1.2;b=e.createElement("script");b.type="text/javascript";b.async=!0;b.src="undefined"!==typeof MIXPANEL_CUSTOM_LIB_URL?MIXPANEL_CUSTOM_LIB_URL:"file:"===e.location.protocol&&"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js".match(/^\/\//)?"https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js":"//cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";c=e.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c)}})(document,window.mixpanel||[]);
  mixpanel.init("1919205b2da72e4da3b9b6639b444d59");</script>
  <!-- end Mixpanel -->
</head>

<body>
  <svg style="display: none;">
    <defs>
      <symbol id="linkIcon" fill="#706d77" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
          <path d="M0 0h24v24H0z" fill="none"/>
          <path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5z"/>
      </symbol>
    </defs>
  </svg>

  <input type="checkbox" id="nav-trigger" class="nav-trigger" />
  <label for="nav-trigger" class="navicon-button x">
    <div class="navicon"></div>
  </label>

  <label for="nav-trigger" class="overlay"></label>

  <div class="top-nav-wrapper">
    <ul>
      <li >
        <a href="index.html">
          
            <svg fill="#6D6D6D" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg">
              <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
              <path d="M0 0h24v24H0z" fill="none"/>
            </svg>
          
          
        </a>
      </li>

      

    </ul>
  </div>

  <nav>
    <h3 class="reference-title">
      onGet
    </h3>

    
      <h3>
        Resources
      </h3>
      
        <a href="https://github.com/hacknlove/onGet">github</a>
      
    

    <h3>Tutorials</h3><ul><li id="01-getting-started-nav"><a href="tutorial-01-getting-started.html">01-getting-started</a></li><li id="02-basic-crud-nav"><a href="tutorial-02-basic-crud.html">02-basic-crud</a></li><li id="03-advanced-crud-nav"><a href="tutorial-03-advanced-crud.html">03-advanced-crud</a></li><li id="04-plugins-quick-view-nav"><a href="tutorial-04-plugins-quick-view.html">04-plugins-quick-view</a></li></ul><h3 id="global-nav">Global</h3><ul><li><a href="global.html#_start">_start</a></li><li><a href="global.html#afterRefetch">afterRefetch</a></li><li><a href="global.html#afterSet">afterSet</a></li><li><a href="global.html#beforeRefetch">beforeRefetch</a></li><li><a href="global.html#beforeSet">beforeSet</a></li><li><a href="global.html#command">command</a></li><li><a href="global.html#end">end</a></li><li><a href="global.html#get">get</a></li><li><a href="global.html#load">load</a></li><li><a href="global.html#once">once</a></li><li><a href="global.html#onGet">onGet</a></li><li><a href="global.html#refetch">refetch</a></li><li><a href="global.html#refresh">refresh</a></li><li><a href="global.html#refreshRegExp">refreshRegExp</a></li><li><a href="global.html#registerPlugin">registerPlugin</a></li><li><a href="global.html#save">save</a></li><li><a href="global.html#set">set</a></li><li><a href="global.html#useOnGet">useOnGet</a></li><li><a href="global.html#waitUntil">waitUntil</a></li></ul>
  </nav>

  <div id="main">
    
      <h1 class="page-title">
        Tutorial: 02-basic-crud
      </h1>
    

    <section>
  <header>
    

    <h2>
      02-basic-crud
    </h2>
  </header>

  <article>
    <h1>Basic CRUD</h1>
<p>Simple CRUD operations are very straightforward to do with onGet. Just think about what urls you need, and use<code>set</code> to create, update and delete; and <code>get</code>, <code>onGet</code> or <code>useOnGet</code> to read,</p>
<p>It is up to you to choose good descriptive urls, so your code is readable.</p>
<pre class="prettyprint source lang-js"><code>set('fast://menuOpened', true);
</code></pre>
<pre class="prettyprint source lang-js"><code>get('fast://menuOpened') // -> true
</code></pre>
<p><code>onGet</code> attach a listener to a subscription to the resource</p>
<pre class="prettyprint source lang-js"><code>onGet('fast://menuOpened', value => {
  // ...
})
</code></pre>
<p><code>useOnGet</code> is a react hook that refresh the component whenever the resource changes.</p>
<pre class="prettyprint source lang-js"><code>function SomeComponent () {
  const menuOpened = useOnGet('fast://menuOpened')
  return (
      ...
  )
}
</code></pre>
<h2>Resource URLs and plugins</h2>
<p>The &quot;protocol&quot; of the url determine the plugin that will be used. If no protocol is present, the url will be processed by the <code>fetch</code> plugin.</p>
<p>It is very important to be aware that <code>fast://someurl</code>, <code>dotted://someurl</code>, <code>history://someurl</code> are completely separate resources, with their own values and subscriptions.</p>
<h3>fast - just values.</h3>
<p>Those resource that have no special needs, should use urls that start with <code>fast://...</code> because they go right to the point.</p>
<h3>history - undoable and redoable</h3>
<p>You should use urls that start with <code>history://</code> with those (and only those) resources that needs to be undoable and redoable.</p>
<p>Otherwise you shouldn't use <code>history://</code> because it uses more memory and it involves more steps that you do not need.</p>
<h3>dotted - urls to the members of an object.</h3>
<p>When It is more convenient for your code to perform CRUD operations in some deep key path on objects, so you can set or subscribe in dotted key paths, you can use <code>dotted://</code> urls. Like <code>dotted://foo.bar.buz</code> that points to <code>{ bar: { buz: --&gt; HERE &lt;-- }}</code> inside <code>dotted://foo</code></p>
<h3>localStorage and sessionStorage - Persistence</h3>
<p>If you need some resource to be backed by localStorage or sessionStorage, you should use <code>localStorage://...</code> or <code>sessionStorage://...</code></p>
<p>localStorage also respond to changes that have been made from other tabs.</p>
<h3>fetch - REST API</h3>
<p>In a nutshell <code>/some/url/</code> returns the value of fetching <code>/some/url</code></p>
<p>We will talk about the fetch plugin in the his own tutorial.</p>
  </article>
</section>

  </div>

  <br class="clear">

  <footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.5</a>
  </footer>

  <script src="scripts/linenumber.js"></script>
  <script src="scripts/pagelocation.js"></script>

  

</body>
</html>